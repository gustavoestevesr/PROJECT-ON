"use strict";(self.webpackChunkproject_on=self.webpackChunkproject_on||[]).push([[965],{9965:(J,f,n)=>{n.r(f),n.d(f,{UsersModule:()=>m});var h=n(6895),U=n(3558),s=n(4006),o=n(4650),v=n(590),Z=n(529);class i{constructor(t){this.httpClient=t,this.API="http://localhost:3000/users"}login(t){return localStorage.setItem("token","TokenQueSeriaGeradoPelaAPI"),localStorage.setItem("user","objetoUsu\xe1rioRetornadoPelaAPI"),this.httpClient.get(this.API).pipe((0,v.P)())}}i.\u0275fac=function(t){return new(t||i)(o.LFG(Z.eN))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"});var L=n(7009),p=n(9132),g=n(3546),T=n(3683),y=n(4859),C=n(7392),d=n(9549),A=n(4144);function I(r,t){1&r&&(o.TgZ(0,"mat-error",12),o._uU(1," Username is "),o.TgZ(2,"strong"),o._uU(3,"required"),o.qZA()())}function P(r,t){1&r&&(o.TgZ(0,"mat-error",12),o._uU(1,"Password is "),o.TgZ(2,"strong"),o._uU(3,"required"),o.qZA()())}class c{constructor(t,e,a,u){this.formBuilder=t,this.service=e,this.snackBar=a,this.router=u,this.formLogin=this.formBuilder.group({username:["",[s.kI.required]],password:["",[s.kI.required]]})}ngOnInit(){}onLogin(){this.formLogin.valid?this.service.login(this.formLogin.getRawValue()).subscribe({next:()=>{this.onSuccess()},error:()=>{this.onError()}}):this.onError()}goToEmployees(){this.router.navigate(["employees"])}onError(){this.snackBar.open("Error authenticating the user.","",{duration:5e3})}onSuccess(){this.snackBar.open("User authenticated successfully!","",{duration:5e3}),this.goToEmployees()}onRegister(){}}c.\u0275fac=function(t){return new(t||c)(o.Y36(s.j3),o.Y36(i),o.Y36(L.ux),o.Y36(p.F0))},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-user-login"]],decls:28,vars:4,consts:[["color","primary"],[1,"login-card"],[3,"formGroup"],[1,"login-content"],["appearance","outline"],["matInput","","placeholder","username","formControlName","username","autofocus",""],["matSuffix",""],["class","msg-error",4,"ngIf"],["matInput","","placeholder","*********","formControlName","password"],[1,"actions-card"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","",3,"click"],[1,"msg-error"]],template:function(t,e){if(1&t&&(o.TgZ(0,"mat-toolbar",0)(1,"span"),o._uU(2,"Project On"),o.qZA()(),o.TgZ(3,"mat-card",1)(4,"mat-toolbar",0),o._uU(5,"Login Screen"),o.qZA(),o._UZ(6,"mat-card-header"),o.TgZ(7,"form",2)(8,"mat-card-content",3)(9,"mat-form-field",4)(10,"mat-label"),o._uU(11,"Username"),o.qZA(),o._UZ(12,"input",5),o.TgZ(13,"mat-icon",6),o._uU(14,"person"),o.qZA()(),o.YNc(15,I,4,0,"mat-error",7),o.TgZ(16,"mat-form-field",4)(17,"mat-label"),o._uU(18,"Password"),o.qZA(),o._UZ(19,"input",8),o.TgZ(20,"mat-icon",6),o._uU(21,"lock"),o.qZA()(),o.YNc(22,P,4,0,"mat-error",7),o.qZA()(),o.TgZ(23,"mat-card-actions",9)(24,"button",10),o.NdJ("click",function(){return e.onLogin()}),o._uU(25,"LOGIN"),o.qZA(),o.TgZ(26,"button",11),o.NdJ("click",function(){return e.onRegister()}),o._uU(27,"REGISTER"),o.qZA()()()),2&t){let a,u;o.xp6(7),o.Q6J("formGroup",e.formLogin),o.xp6(8),o.Q6J("ngIf",(null==(a=e.formLogin.get("username"))?null:a.hasError("required"))&&(null==(a=e.formLogin.get("username"))?null:a.touched)),o.xp6(7),o.Q6J("ngIf",(null==(u=e.formLogin.get("password"))?null:u.invalid)&&(null==(u=e.formLogin.get("password"))?null:u.touched)),o.xp6(2),o.Q6J("disabled",!e.formLogin.valid)}},dependencies:[h.O5,g.a8,g.hq,g.dn,g.dk,T.Ye,y.lW,C.Hw,d.KE,d.hX,d.TO,d.R9,A.Nt,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".login-card[_ngcontent-%COMP%]{width:450px;margin:2em auto;padding:1em}.actions-card[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.login-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.msg-error[_ngcontent-%COMP%]{margin-bottom:20px}"]});const S=[{path:"",component:c}];class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[p.Bz.forChild(S),p.Bz]});class m{}m.\u0275fac=function(t){return new(t||m)},m.\u0275mod=o.oAB({type:m}),m.\u0275inj=o.cJS({imports:[h.ez,l,U.M]})}}]);